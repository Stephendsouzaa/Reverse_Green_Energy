<!DOCTYPE html>
<section id="map-viewer" class="relative">
    <h2 class="text-2xl font-bold mb-4">Map Visualization</h2>
    
    <!-- Loading Indicator -->
    <div id="loading" class="hidden fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white p-4 rounded-lg shadow-lg z-50">
        <div class="flex items-center space-x-2">
            <div class="animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"></div>
            <span>Loading data...</span>
        </div>
    </div>

    <!-- Error Message Display -->
    <div id="error-message" class="hidden fixed top-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded z-50" role="alert"></div>

    <!-- Map Container -->
    <div id="map" class="h-[600px] w-full rounded-lg shadow-lg"></div>

    <!-- Analysis Results Panel -->
    <div id="analysisResults" class="hidden mt-4 p-4 bg-white rounded-lg shadow-lg">
        <div id="solarAnalysis" class="mb-4"></div>
        <div id="windAnalysis"></div>
    </div>
</section>

<!-- Map Controls -->
<div class="mt-4 space-y-2">
    <div class="flex space-x-4">
        <label class="flex items-center">
            <input type="checkbox" id="solarLayer" checked class="mr-2">
            Solar Layer
        </label>
        <label class="flex items-center">
            <input type="checkbox" id="windLayer" checked class="mr-2">
            Wind Layer
        </label>
        <label class="flex items-center">
            <input type="checkbox" id="gridLayer" class="mr-2">
            Grid Layer
        </label>
    </div>
    
    <div class="flex space-x-4">
        <input type="text" id="searchInput" placeholder="Search location..." class="px-4 py-2 border rounded-lg">
        <button id="searchBtn" class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600">Search</button>
        <button id="clearMap" class="px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600">Clear Map</button>
    </div>

    <div class="flex space-x-4">
        <input type="text" id="latInput" placeholder="Latitude" class="px-4 py-2 border rounded-lg" readonly>
        <input type="text" id="lngInput" placeholder="Longitude" class="px-4 py-2 border rounded-lg" readonly>
    </div>
</div>

<script src="assets/js/map-api.js"></script>